<mxfile host="Electron" modified="2024-01-01T03:25:03.673Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/22.0.2 Chrome/114.0.5735.289 Electron/25.8.4 Safari/537.36" etag="bV9dqK9e-QK508gnN4sr" version="22.0.2" type="device">
  <diagram name="ページ1" id="vkcM3r6nJ632E6KDp74T">
    <mxGraphModel dx="1171" dy="868" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--62" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=default;arcSize=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;strokeColor=default;strokeWidth=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="990" width="930" height="270" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--61" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=default;arcSize=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;strokeColor=default;strokeWidth=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="610" width="930" height="360" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--60" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=default;arcSize=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;strokeColor=default;strokeWidth=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="30" width="930" height="550" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--1" value="IAMユーザ" style="shape=actor;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="80.56" y="300" width="60" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--2" target="DBrZJsvyM4Kk2ztIJi5--6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--22" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--2" target="DBrZJsvyM4Kk2ztIJi5--8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--2" value="IAMポリシー" style="shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#4495D1;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam.checked_doc;" vertex="1" parent="1">
          <mxGeometry x="150.56" y="477.20000000000005" width="50.8" height="61.6" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--2" target="DBrZJsvyM4Kk2ztIJi5--1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--4" value="IAMユーザ" style="shape=actor;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=bottom;align=center;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="230.56" y="300" width="60" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--5" value="IAMユーザ" style="shape=actor;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=bottom;align=center;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="300.56" y="300" width="60" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--6" value="IAMグループ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;arcSize=3;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="210.56" y="270" width="180" height="150" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--15" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--8" target="DBrZJsvyM4Kk2ztIJi5--13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--16" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--8" target="DBrZJsvyM4Kk2ztIJi5--14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--8" value="IAMロール" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;labelPosition=center;" vertex="1" parent="1">
          <mxGeometry x="530.56" y="346" width="78" height="44" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--13" target="DBrZJsvyM4Kk2ztIJi5--23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--13" value="EC2" style="outlineConnect=0;dashed=0;verticalLabelPosition=middle;verticalAlign=middle;align=right;html=1;shape=mxgraph.aws3.ec2;fillColor=#F58534;gradientColor=none;labelPosition=left;" vertex="1" parent="1">
          <mxGeometry x="450.56" y="193" width="65.81" height="80" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--14" target="DBrZJsvyM4Kk2ztIJi5--25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--14" value="Lambda" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=middle;verticalAlign=middle;align=right;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;labelPosition=left;" vertex="1" parent="1">
          <mxGeometry x="620.56" y="209" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--23" value="S3" style="outlineConnect=0;dashed=0;verticalLabelPosition=middle;verticalAlign=middle;align=right;html=1;shape=mxgraph.aws3.s3;fillColor=#E05243;gradientColor=none;labelPosition=left;" vertex="1" parent="1">
          <mxGeometry x="454.68" y="50" width="57.58" height="70" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--25" value="DynamoDB" style="outlineConnect=0;dashed=0;verticalLabelPosition=middle;verticalAlign=middle;align=right;html=1;shape=mxgraph.aws3.dynamo_db;fillColor=#2E73B8;gradientColor=none;labelPosition=left;" vertex="1" parent="1">
          <mxGeometry x="620.56" y="58.629999999999995" width="46.89" height="52.75" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--28" value="EC2からS3の読み取りを許可" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="310.56" y="150" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--29" value="LambdaからDynamoDBの読み取り・書き込みを許可" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="640.56" y="150" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--30" value="S3" style="outlineConnect=0;dashed=0;verticalLabelPosition=middle;verticalAlign=middle;align=right;html=1;shape=mxgraph.aws3.s3;fillColor=#E05243;gradientColor=none;labelPosition=left;" vertex="1" parent="1">
          <mxGeometry x="449.44" y="731.6" width="57.58" height="70" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--32" target="DBrZJsvyM4Kk2ztIJi5--30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--32" value="バケットポリシー" style="shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#9AC7BF;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam.checked_doc;" vertex="1" parent="1">
          <mxGeometry x="829.44" y="735.8" width="50.8" height="61.6" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--38" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--33" target="DBrZJsvyM4Kk2ztIJi5--36">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="154.44" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--33" value="IAMポリシー" style="shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#4495D1;labelPosition=left;verticalLabelPosition=middle;verticalAlign=middle;align=right;outlineConnect=0;shape=mxgraph.veeam.checked_doc;" vertex="1" parent="1">
          <mxGeometry x="129.44" y="740" width="50.8" height="61.6" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--34" value="ACL" style="shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#FFB570;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam.checked_doc;" vertex="1" parent="1">
          <mxGeometry x="829.44" y="860" width="50.8" height="61.6" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--35" value="IAMユーザ" style="shape=actor;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="278.44" y="650" width="60" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--40" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--36" target="DBrZJsvyM4Kk2ztIJi5--30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--36" value="IAMロール" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;labelPosition=center;" vertex="1" parent="1">
          <mxGeometry x="269.44" y="823" width="78" height="44" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--39" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--35" target="DBrZJsvyM4Kk2ztIJi5--30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--42" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--33" target="DBrZJsvyM4Kk2ztIJi5--35">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="154.44" y="695" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--44" value="バケット全体のアクセス制御" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="629.44" y="735.8000000000001" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--45" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.79;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--34" target="DBrZJsvyM4Kk2ztIJi5--30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--46" value="AWSアカウントレベルのアクセス制御" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="589.44" y="891.5999999999999" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--47" value="EC2" style="outlineConnect=0;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;html=1;shape=mxgraph.aws3.ec2;fillColor=#F58534;gradientColor=none;labelPosition=center;" vertex="1" parent="1">
          <mxGeometry x="480.82" y="1045" width="65.81" height="80" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--48" value="DynamoDB" style="outlineConnect=0;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;html=1;shape=mxgraph.aws3.dynamo_db;fillColor=#2E73B8;gradientColor=none;labelPosition=center;" vertex="1" parent="1">
          <mxGeometry x="880" y="1128.6299999999999" width="46.89" height="52.75" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--50" value="SDK" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.android;fillColor=#FFD44F;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="525.52" y="1135" width="35" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--51" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;arcSize=3;labelPosition=center;verticalLabelPosition=top;align=center;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="425.56" y="1010" width="190" height="195" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--50" target="DBrZJsvyM4Kk2ztIJi5--48">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="665.56" y="1155" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--53" target="DBrZJsvyM4Kk2ztIJi5--47">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="375.56" y="1095" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--53" value="IAMロール" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=top;verticalAlign=bottom;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;labelPosition=center;" vertex="1" parent="1">
          <mxGeometry x="255.56" y="1063" width="78" height="44" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--57" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DBrZJsvyM4Kk2ztIJi5--56" target="DBrZJsvyM4Kk2ztIJi5--53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--56" value="IAMポリシー&lt;br&gt;(信頼ポリシー)" style="shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#4495D1;labelPosition=left;verticalLabelPosition=middle;verticalAlign=middle;align=right;outlineConnect=0;shape=mxgraph.veeam.checked_doc;" vertex="1" parent="1">
          <mxGeometry x="145.56" y="1170" width="50.8" height="61.6" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--58" value="sts:AssumeRole" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="196.36" y="1205" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DBrZJsvyM4Kk2ztIJi5--59" value="IAMロールから一時的に&lt;br&gt;アクセスキーを取得してDBに接続" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="625.56" y="1160" width="230" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
